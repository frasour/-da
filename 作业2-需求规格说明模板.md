# 博客平台需求规格说明书

**编制人员：** 项目组
**编制日期：** 2024-04-15
**文档版本号：** 1.0

## 1. 项目简介
### 1.1 目标与范围
构建一个响应式的个人/团队博客平台，支持用户浏览、搜索、评论和互动，并为作者提供高效的文章创作、发布与素材管理能力。平台覆盖 PC 与移动端浏览器，包含前台阅读端与后台管理端。

### 1.2 术语和缩写
- **文章**：以 Markdown/富文本编写的内容单元，可包含封面、标签、分类与摘要。
- **标签/分类**：用于对文章进行多维度组织和检索的元数据。
- **相册**：用于管理和展示图片集的功能模块。
- **友链**：与其他站点互相展示链接的合作模块。
- **JWT**：JSON Web Token，用于前后台的身份认证。

### 1.3 引用文档
- 前端 README（技术栈与功能概览）【blog/README.md】
- 后端 README（运行环境与接口说明）【blog-server/README.md】
- 相关前端/后端 API 文档与数据库设计说明（仓库内源码与注释）

## 2. 总体描述
### 2.1 产品前景和功能
平台定位为内容聚合与创作发布的一体化博客系统，前后端分离。主要功能包括：
- 文章列表、详情、时间轴、标签与分类检索。
- 用户注册、登录、个人信息维护、通知与消息。
- 评论/留言、说说、音乐播放器、推荐网站与友链展示。
- 相册及图片懒加载浏览。
- 后台的内容、标签、分类、友链、相册等管理。
- RESTful 接口支撑前台与管理后台。

### 2.2 用户特征
- **访客读者**：主要通过移动端或桌面浏览器访问，关注加载性能、可读性与导航便捷。
- **注册用户/评论者**：拥有账号，可参与评论、说说、个人信息更新，对互动体验和通知及时性有要求。
- **作者/管理员**：负责内容创作与运营，需要高效的编辑器、媒体上传、分类标签管理及审核权限。

### 2.3 约束
- 前端基于 Vue3、Element Plus、Pinia、Axios、Vite、TailwindCSS；需要现代浏览器支持 JavaScript 和 CSS3。
- 后端基于 Node.js + Koa + Sequelize，依赖 MySQL 数据库与对象存储（本地、MinIO、七牛等）。
- 部署要求支持 HTTPS、反向代理与静态资源缓存；需考虑移动端适配。
- 安全需要符合常规 Web 安全实践（XSS/CSRF 防护、鉴权、日志）。

### 2.4 假设和依赖
- 存在稳定的 MySQL 实例与对象存储服务用于持久化文章与媒体资源。
- 邮件/短信等第三方通知未启用，消息以内站通知为主。
- 后端 JWT 鉴权与跨域配置已正确部署，前端调用接口通过 Axios 与 Token 传递。

## 3. 需求描述
### 3.1 外部接口需求
- **3.1.1 用户接口：**
  - 导航涵盖首页、文章列表、时间轴、标签、分类、相册、友链、推荐站点、音乐与说说。
  - 支持深色/浅色主题切换（如有），移动端自适应布局，关键界面含文章列表卡片、文章详情、相册瀑布流、评论区。
- **3.1.2 硬件接口：**
  - 服务器：运行 Node.js 18+，具备足够 CPU/内存以支撑并发请求与图片处理；
  - 客户端：现代桌面/移动浏览器，无特定专用硬件接口要求。
- **3.1.3 软件接口：**
  - REST API：提供文章、标签、分类、评论、说说、相册、友链、推荐站点、音乐播放列表、用户认证等接口；
  - 数据库：MySQL（通过 Sequelize 访问）；
  - 对象存储：本地、MinIO 或云存储，用于图片/封面/附件上传；
  - 第三方：可选的网易云音乐接口或其他音乐源。
- **3.1.4 通讯接口：**
  - HTTP/HTTPS，常用端口（80/443/自定义 API 端口）；
  - 基于 JWT 的 Authorization 头传递凭证；
  - 支持跨域配置和反向代理。

### 3.2 功能需求
#### 3.2.1 用例图
- 主要参与者：访客、注册用户、作者/管理员、对象存储/音乐服务。
- 系统边界：前台 Web、后台管理端、REST API。

#### 3.2.2 用例描述
- **U001：浏览文章** — 访客/注册用户查看文章列表，支持分页、标签/分类筛选，点击进入详情页查看全文与推荐文章。
- **U002：用户注册与登录** — 新用户注册账号，已有用户登录并获取 JWT，后续请求附带 Token 完成鉴权。
- **U003：评论与消息通知** — 登录用户在文章或说说下发布评论/回复，系统记录并在用户被回复时发送站内通知。
- **U004：创作与发布** — 作者使用 Markdown 编辑器撰写文章，上传封面或图片，选择分类/标签，保存草稿或直接发布。
- **U005：相册与图片浏览** — 用户在相册模块查看图片集合，使用懒加载提升体验；管理员维护相册与图片元数据。
- **U006：友链与推荐站点管理** — 管理员新增/编辑/删除友链与推荐站点，前台展示并可跳转访问。
- **U007：音乐播放** — 用户在音乐模块选择播放列表、搜索歌曲并查看歌词（基于接口数据）。

### 3.3 质量需求
- **性能：** 常规访问下文章详情页 p95 响应时间 ≤ 2s；支持并发用户量与分页缓存策略。
- **安全性：** 采用 JWT 鉴权，密码加密存储；防范 XSS/CSRF/SQL 注入；敏感操作需校验权限。
- **易用性：** UI 统一使用 Element Plus/Tailwind 设计规范，提供清晰导航与表单校验；支持移动端适配。
- **可靠性与可维护性：** 接口提供错误码与日志；后端服务支持环境配置、监控与自动重启；前后端遵循模块化结构便于扩展。

### 3.4 设计约束
- 前端构建工具与依赖：Vite、Vue3、Pinia、Axios、TailwindCSS；
- 后端框架与依赖：Node.js、Koa、koa-router、koa-body、Sequelize、MySQL、对象存储 SDK；
- 部署使用 npm/pnpm 构建，需支持环境变量配置数据库与存储方式。

### 3.5 其他需求
- 提供基础的运营数据统计（PV/UV、文章阅读量、评论数量），可通过日志或数据库字段记录；
- 支持内容备份与恢复策略（数据库备份、对象存储版本管理）。

## 4. AI 辅助需求分析总结
- 使用 AI 协助整理功能列表、质量属性与用例示例；
- AI 生成的内容需由项目成员验证，避免与实际实现偏差；
- 在需求变更时可借助 AI 生成差异摘要与测试用例草案。

## 附录
- 术语表与数据字典：包含文章、标签、分类、评论、消息、相册、友链、推荐站点等字段定义；
- 可附示例接口返回格式与前端页面原型链接。
